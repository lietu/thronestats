<!doctype html>
<html class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>ThroneStats - Real-time Nuclear Throne statistics for streamers</title>
    <meta name="description"
          content="Real-time Nuclear Throne statistics for streamers using OBS or Xsplit">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="lib/jquery/dist/jquery.min.js"></script>

    <link rel="stylesheet" href="lib/semantic/dist/semantic.min.css">
    <script src="lib/semantic/dist/semantic.min.js"></script>

    <script src="lib/rivets/dist/rivets.bundled.min.js"></script>

    <link rel="stylesheet" href="css/main.css">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <script>window.html5 || document.write('<script src="js/vendor/html5shiv.js"><\/script>')</script>
    <![endif]-->
</head>
<body>

<section id="popups"></section>

<section id="content">
    <div class="ui top attached tabular menu">
        <div rv-on-click="ui.showInformation" id="information-tab"
             class="active item">Information
        </div>
        <div rv-on-click="ui.showGetOverlay" id="get-overlay-tab" class="item">
            Get overlay
        </div>
        <div rv-on-click="ui.showStats" id="stats-tab" class="item">
            View stats
        </div>
    </div>
    <div id="information" class="ui bottom attached active tab segment">
        <h1 class="ui header">ThroneStats</h1>

        <p>ThroneStats is a service to gather and display statistics on runs in
            <a href="http://nuclearthrone.com/">Nuclear Throne</a> by <a
                    href="http://vlambeer.com/">Vlambeer</a>.</p>

        <p>ThroneStats is not trying to be another <em>"ThroneButt"</em>, but
            provides various statistics on your current run, primarily for
            streamers, in the form of an overlay you can use with OBS or
            Xsplit.</p>

        <p>You can also view collected statistics on global and per-player basis in the <em><a href="#view=stats" rv-on-click="ui.goToView">"View stats"</a></em> -tab.</p>

        <h2 class="ui header">Stats gathered and shown</h2>
        <ul>
            <li>Weapon pickup rate (Most popular: <span
                    rv-text="globalStats.mostPopularWeapon"></span>)
            </li>
            <li>Causes of death (Most common: <span
                    rv-text="globalStats.mostCommonCauseOfDeath"></span>)
            </li>
            <li>Mutation choices (Most popular: <span
                    rv-text="globalStats.mostPopularMutation"></span>)
            </li>
            <li>Crowns (Most popular: <span
                    rv-text="globalStats.mostPopularCrown"></span>)
            </li>
            <li>Character use (Most popular: <span
                    rv-text="globalStats.mostPopularCharacter"></span>)
            </li>
            <li>Levels players die on (Most common: <span
                    rv-text="globalStats.mostCommonDeathLevel"></span>)
            </li>
        </ul>

        <h2 class="ui header">How does it look like?</h2>

        <p>The Twitch logo is a bit annoyingly in the way on the embedded
            player. You can try fullscreen if you can't see properly
            otherwise.</p>

        <img id="video-preview" rv-on-click="ui.playVideo"
             src="img/video_preview.png">

        <div id="video" class="hidden">
            <object bgcolor='#000000'
                    data='http://www.twitch.tv/swflibs/TwitchPlayer.swf'
                    height='378' id='clip_embed_player_flash'
                    type='application/x-shockwave-flash' width='620'>
                <param name='movie'
                       value='http://www.twitch.tv/swflibs/TwitchPlayer.swf'>
                <param name='allowScriptAccess' value='always'>
                <param name='allowNetworking' value='all'>
                <param name='allowFullScreen' value='true'>
                <param name='flashvars'
                       value='title=Testing%2BThroneStats&amp;channel=lietu&amp;autoplay=false&amp;start_volume=25&amp;videoId=v31615767'>
            </object>
        </div>

        <h2 class="ui header">How do I get it</h2>

        <p>Click on the <em><a href="#view=get-overlay" rv-on-click="ui.goToView">"Get overlay"</a></em> -tab at the top of the page for
            full setup instructions.</p>

        <h2 class="ui header">What if I'm not a streamer?</h2>

        <p>While this was done primarily for streamers, you might still get
            something out if it even if you don't stream.</p>

        <p>Firstly, for ThroneStats to track your runs you need to open it in a
            browser window. Go to the <em><a href="#view=get-overlay" rv-on-click="ui.goToView">"Get overlay"</a></em> -tab
            above and use the <em>"View live stats"</em> -feature to view the
            statistical information as things are happening and ensure that
            ThroneStats is collecting the data.</p>

        <p>However you'll have to keep this on another screen, or beside the
            Nuclear Throne window if you want to see it.</p>

        <p>You can view both global and per-player statistics on the
            <em><a href="#view=stats" rv-on-click="ui.goToView">"View stats"</a></em> -tab above.</p>

        <h2 class="ui header">What browsers does this work on?</h2>

        <p>After quick testing it looks like it works on Chrome, Firefox and
            Edge. Didn't test others, but it's fairly likely any WebKit based
            browser (e.g. Safari) also works, and hopefully any reasonably
            modern browser should work. If you have issues with any MODERN
            browser, let me know, and I might fix it.</p>

        <h2 class="ui header">I'm not seeing any data, why?</h2>

        <p>First and foremost ThroneStats can only track players if they have given
        their SteamID64 and Streamkey <em>CORRECTLY</em> and have the tracker
        overlay or "View live stats" -screen open while they are playing.</p>

        <p>Also, you should start a run on Nuclear Throne and let it run for at
            least 15-30 seconds before ThroneStats can get data from the API.</p>

        <p>There is also the small chance that the backend is down. Maybe Tweet to
            <a href="https://twitter.com/lietux">@lietux</a>.</p>

        <h2 class="ui header">Who made this?</h2>

        <p><a href="https://twitch.tv/lietu">Lietu</a> made this.</p>

        <h2 class="ui header">Can I contribute somehow?</h2>

        <p>Maybe. The source code is publicly available at <a
                href="https://github.com/lietu/thronestats">https://github.com/lietu/thronestats</a>.
            If you want to contribute code, graphics, or just have feature
            requests, go there.</p>

        <h2 class="ui header">Legal stuff</h2>

        <p>Nuclear Throne is (probably) a trademark of Vlambeer. ThroneStats is
            not affiliated with Vlambeer and vice-versa. Neither is the creator
            of ThroneStats.</p>

        <p>ThroneStats -service saves your run information to keep global
            stats. It shouldn't contain any private information, but if you're
            cautious you can always just get the source code and run it locally
            for yourself. Up to you.</p>

        <p>Copyright &copy; 2015-infinity Janne "Lietu" Enberg.</p>
    </div>
    <div id="get-overlay" class="ui bottom attached tab segment">
        <h2 class="ui header">Get overlay</h2>

        <p>You only need to fill in your SteamID64 and Stream Key to get a
            custom link that you can show in your OBS/Xsplit to get your
            notifications running.</p>

        <div class="ui form">
            <div class="two fields">
                <div class="field">
                    <label>Steam ID 64 (<a href="https://steamid.io/"
                                           target="_blank">Search</a>)</label>
                    <input type="text" rv-value="settings.steamId64"
                           placeholder="Steam ID 64">
                </div>
                <div class="field">
                    <label>Stream Key (Settings -> Game)</label>
                    <input type="text" rv-value="settings.streamKey"
                           placeholder="Stream Key">
                </div>
            </div>
            <div class="two fields">
                <button rv-on-click="ui.getOverlayLink"
                        class="ui primary button">
                    Get overlay link
                </button>
                <button rv-on-click="ui.viewOverlay" class="ui button">
                    View live stats
                </button>
            </div>
        </div>

        <div id="overlay-link" class="ui hidden form">
            <div class="one field">
                <div class="field">
                    <label>Your overlay URL</label>
                    <input type="text" rv-value="ui.overlayUrl">
                </div>
            </div>
            <div class="one field">
                <button rv-on-click="ui.copyLink" class="ui primary button">
                    Copy link to clipboard
                </button>
            </div>
        </div>

        <hr>

        <h3>OBS Setup</h3>

        <p>For OBS you'll likely want to use <a
                href="https://obsproject.com/forum/resources/clr-browser-source-plugin.22/">CLR
            Browser</a> and the guide is written with it in mind.</p>
        <ol>
            <li>
                Fill in the information above and click on <em>"Get overlay
                link"</em> to get the URL for your overlay.
            </li>
            <li>
                In OBS add a new CLR Browser source to your scene (or as a
                Global Source).<br>
                <img src="img/obs_add_clr.jpg">
            </li>
            <li>In the "URL" -field add your overlay URL.
            </li>
            <li>Set your preferred dimensions for the overlay. Try out width
                300 and set height to your stream height (e.g. 720).
            </li>
        </ol>

        <hr>

        <h3>Xsplit Setup</h3>

        <p>This is unfortunately based on hearsay but you should be able to add
            a "webpage URL source" to your scene, which should function
            similarly to CLR Browser in OBS. If you can provide full set of
            instructions, please contact me.</p>
    </div>

    <div id="stats" class="ui bottom attached tab segment">
        <h2 class="ui header">View statistics</h2>
        <div class="ui form">
            <div class="one fields">
                <div class="field">
                    <label>Steam ID 64 (<a href="https://steamid.io/"
                                           target="_blank">Search</a>)</label>
                    <input type="text" rv-value="settings.statsSteamId64"
                           placeholder="Steam ID 64">
                </div>
            </div>
            <div class="one fields">
                <button rv-on-click="ui.showPlayerStats"
                        class="ui primary button">
                    Show player stats
                </button>
                <button rv-on-click="ui.showGlobalStats"
                        class="ui button">
                    Show global stats
                </button>
            </div>
        </div>

        <h2 class="ui header">General information</h2>

        <table class="ui collapsing celled table">
            <thead>
                <tr>
                    <th colspan="2"><span rv-text="stats.steamIdText"></span></th>
                </tr>
            </thead>
            <tbody>
                <tr><td>Recorded runs</td><td rv-text="stats.runs"></td></tr>
                <tr><td>Favorite character</td><td rv-text="stats.mostPopularCharacter"></td>
                <tr><td>Favorite weapon</td><td rv-text="stats.mostPopularWeapon"></td>
                <tr><td>Favorite crown</td><td rv-text="stats.mostPopularCrown"></td>
                <tr><td>Favorite mutation</td><td rv-text="stats.mostPopularMutation"></td>
                <tr><td>Most deaths caused by </td><td rv-text="stats.mostCommonCauseOfDeath"></td>
                <tr><td>Most deaths in </td><td rv-text="stats.mostCommonDeathLevel"></td>
                </tr>
            </tbody>
        </table>

        <h2 class="ui header">Characters</h2>
        <table class="ui collapsing celled table">
            <thead>
                <tr><th>Character</th><th>Runs</th><th>%</th></tr>
            </thead>
            <tbody>
                <tr rv-each-item="stats.characters">
                    <td rv-text="item.name"></td>
                    <td rv-text="item.runs"></td>
                    <td rv-text="item.percentage"></td>
                </tr>
            </tbody>
        </table>

        <h2 class="ui header">Mutations</h2>
        <table class="ui collapsing celled table">
            <thead>
                <tr><th>Mutation</th><th>Runs</th><th>%</th></tr>
            </thead>
            <tbody>
                <tr rv-each-item="stats.mutationChoices">
                    <td rv-text="item.name"></td>
                    <td rv-text="item.runs"></td>
                    <td rv-text="item.percentage"></td>
                </tr>
            </tbody>
        </table>

        <h2 class="ui header">Crowns</h2>
        <table class="ui collapsing celled table">
            <thead>
                <tr><th>Crown</th><th>Runs</th><th>%</th></tr>
            </thead>
            <tbody>
                <tr rv-each-item="stats.crownChoices">
                    <td rv-text="item.name"></td>
                    <td rv-text="item.runs"></td>
                    <td rv-text="item.percentage"></td>
                </tr>
            </tbody>
        </table>

        <h2 class="ui header">Weapons</h2>
        <table class="ui collapsing celled table">
            <thead>
                <tr><th>Weapon</th><th>Runs</th><th>%</th></tr>
            </thead>
            <tbody>
                <tr rv-each-item="stats.weaponChoices">
                    <td rv-text="item.name"></td>
                    <td rv-text="item.runs"></td>
                    <td rv-text="item.percentage"></td>
                </tr>
            </tbody>
        </table>

        <h2 class="ui header">Deaths</h2>
        <table class="ui collapsing celled table">
            <thead>
                <tr><th>Level</th><th>Runs</th><th>%</th></tr>
            </thead>
            <tbody>
                <tr rv-each-item="stats.deathsByLevel">
                    <td rv-text="item.name"></td>
                    <td rv-text="item.runs"></td>
                    <td rv-text="item.percentage"></td>
                </tr>
            </tbody>
        </table>
    </div>


    <!-- Help modals -->

    <div id="steamId64Help" class="ui modal">
        <i class="close icon"></i>

        <div class="header">
            Locating your SteamId64
        </div>
        <div class="content">
            <p>Easiest way to get your SteamID64 is to go to <a target="_blank"
                                                                href="https://steamid.io/lookup">https://steamid.io/lookup</a>
                and click on <em>"Sign in through Steam"</em>, and then
                authenticate yourself with your Steam user account. After that
                click on your profile image and choose <em>"profile"</em> and
                look for the the <em>"steamID64"</em> -line.</p>
        </div>
        <div class="image content">
            <div class="image">
                <img src="img/steamid.jpg">
            </div>
        </div>
        <div class="actions">
            <div class="ui button">OK</div>
        </div>
    </div>

    <div id="streamKeyHelp" class="ui modal">
        <i class="close icon"></i>

        <div class="header">
            Locating your Stream Key
        </div>
        <div class="content">
            <p>Locating your stream key from Nuclear Throne is easy. Just go to
                Settings -> Game, and click on <em>"Stream Key"</em> if it says
                <em>"Disabled"</em> to generate one.</p>
        </div>
        <div class="image content">
            <div class="image">
                <img src="img/nt_stream_key.jpg">
            </div>
        </div>
        <div class="actions">
            <div class="ui button">OK</div>
        </div>
    </div>
</section>

<section id="overlay">
</section>

<script type="text/html" id="message-template">
    <div class="ui icon message">
        <i class="inbox icon"></i>

        <div class="content">
            <div class="header">
                { header }
            </div>
            <p>{ content }</p>
        </div>
    </div>
</script>

<script src="js/main.js"></script>

<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-30255444-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>
